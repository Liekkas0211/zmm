{"ast":null,"code":"import _defineProperty from \"C:\\\\demo\\\\hunburger\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"C:\\\\demo\\\\hunburger\\\\src\\\\Container\\\\BurgerBuilder\\\\BurgerBuilder.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { Component, Fragment } from 'react';\nimport Burger from '../../Components/Burger/Burger';\nimport BuildControls from '../../Components/Burger/OrderSummary/BuildControls';\nimport Modal from '../../Components/UI/Model/Msgbox';\nimport { connect } from 'react-redux';\nimport * as actions from '../../store/actions/index';\nimport classes from './test.module.css';\nimport * as actionTypes from '../../store/actions/actionTypes';\n\nclass BurgerBuilder extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      visible: false\n    };\n\n    this.changeModal = () => {\n      this.setState({\n        visible: false\n      });\n    };\n\n    this.showModal = () => {\n      this.setState({\n        visible: true\n      });\n    };\n\n    this.handleConfirm = () => {\n      this.setState({\n        visible: false\n      });\n      this.changeModal();\n      return React.createElement(Burger, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41\n        },\n        __self: this\n      });\n    };\n  }\n\n  isBurgerPurchasable(ingredients) {\n    const sum = Object.keys(ingredients).map(igKey => {\n      return ingredients[igKey];\n    }).reduce((sum, el) => {\n      return sum + el;\n    }, 0);\n    return sum > 0;\n  }\n\n  render() {\n    let smallbtn = React.createElement(\"div\", {\n      className: classes.center,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, \"\\u4E00\\u952E\\u70B9\\u9910\"), React.createElement(\"button\", {\n      onClick: () => {\n        this.props.small;\n        this.props.history.push('/info');\n      },\n      className: classes.OrderButton,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, \" small\"));\n    let mainburger = null;\n\n    const disableInfo = _objectSpread({}, this.props.igrds);\n\n    for (let key in disableInfo) {\n      disableInfo[key] = disableInfo[key] <= 0 ? true : false;\n    }\n\n    if (this.props.igrds) {\n      mainburger = React.createElement(Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, React.createElement(Burger, {\n        ingredients: this.props.igrds,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }), React.createElement(BuildControls, {\n        totalPrice: this.props.price,\n        IngredientAdded: this.props.onIngredientAdded,\n        RemoveIngredient: this.props.onIngredientRemoved,\n        disabled: disableInfo,\n        prsable: this.isBurgerPurchasable(this.props.igrds),\n        click: this.showModal,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }));\n    }\n\n    let modal = null;\n\n    if (this.state.visible) {\n      modal = React.createElement(Modal, {\n        visible: this.state.visible,\n        title: \"your order \\u2714\",\n        change: this.changeModal,\n        handleConfirm: this.handleConfirm,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, React.createElement(\"ul\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, \"Current Price: \\uD83D\\uDCB0\", this.props.price.toFixed(2), \" \"), React.createElement(\"ul\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, \"\\uD83E\\uDD57salad:\", this.props.igrds.salad, \" price:\\xA3\", this.props.sum.salad.toFixed(2)), React.createElement(\"ul\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, \"\\uD83E\\uDD53bacon:\", this.props.igrds.bacon, \" price:\\xA3\", this.props.sum.bacon.toFixed(2)), React.createElement(\"ul\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, \"\\uD83E\\uDDC0cheese:\", this.props.igrds.cheese, \" price:\\xA3\", this.props.sum.cheese.toFixed(2), \" \"), React.createElement(\"ul\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, \"\\uD83E\\uDD69meat:\", this.props.igrds.meat, \" price:\\xA3\", this.props.sum.meat.toFixed(2)));\n    }\n\n    return console.log(this.props.igrds), React.createElement(Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, mainburger, \",\", modal);\n  }\n\n}\n\nconst mapStateToProps = state => {\n  console.log(state.burgerBuilder.ingredients);\n  return {\n    igrds: state.burgerBuilder.ingredients,\n    price: state.burgerBuilder.totalPrice,\n    sum: state.burgerBuilder.sumprice\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onIngredientAdded: ing => dispatch(actions.addIngredient(ing)),\n    onIngredientRemoved: ing => dispatch(actions.removeIngredient(ing)),\n    small: () => dispatch({\n      type: \"small\"\n    })\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(BurgerBuilder);","map":{"version":3,"sources":["C:/demo/hunburger/src/Container/BurgerBuilder/BurgerBuilder.js"],"names":["React","Component","Fragment","Burger","BuildControls","Modal","connect","actions","classes","actionTypes","BurgerBuilder","state","visible","changeModal","setState","showModal","handleConfirm","isBurgerPurchasable","ingredients","sum","Object","keys","map","igKey","reduce","el","render","smallbtn","center","props","small","history","push","OrderButton","mainburger","disableInfo","igrds","key","price","onIngredientAdded","onIngredientRemoved","modal","toFixed","salad","bacon","cheese","meat","console","log","mapStateToProps","burgerBuilder","totalPrice","sumprice","mapDispatchToProps","dispatch","ing","addIngredient","removeIngredient","type"],"mappings":"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","sourcesContent":["import React, { Component, Fragment } from 'react';\r\nimport Burger from '../../Components/Burger/Burger';\r\nimport BuildControls from '../../Components/Burger/OrderSummary/BuildControls';\r\nimport Modal from '../../Components/UI/Model/Msgbox';\r\nimport {connect} from 'react-redux';\r\nimport * as actions from '../../store/actions/index';\r\nimport classes from './test.module.css';\r\nimport * as actionTypes from '../../store/actions/actionTypes';\r\nclass BurgerBuilder extends Component {\r\n    state = {\r\n        visible:false,\r\n    }\r\nchangeModal =()=>{\r\n        this.setState({\r\n            visible:false\r\n        })\r\n    }\r\nshowModal = () => {\r\n        this.setState({\r\n            visible: true,\r\n        });\r\n}\r\nisBurgerPurchasable(ingredients) {\r\n    const sum = Object.keys(ingredients)\r\n                    .map(igKey => {\r\n                        return ingredients[igKey];\r\n                    })\r\n                    .reduce((sum,el)=>{\r\n                        return sum + el;\r\n                    },0);\r\n\r\n    return sum>0;\r\n}\r\n\r\nhandleConfirm = () => {\r\n    this.setState({\r\n        visible: false\r\n    })\r\n    this.changeModal(); \r\n    return (\r\n        <Burger/>)\r\n    \r\n}\r\nrender(){\r\n    let smallbtn=(\r\n        <div className={classes.center} >\r\n        <p>\r\n            一键点餐\r\n     \r\n        </p>\r\n        <button \r\n         onClick={()=>{\r\n            this.props.small;\r\n            this.props.history.push('/info')\r\n        }}\r\n        className={classes.OrderButton}> small</button>\r\n        </div>\r\n    )\r\n    let mainburger=null;\r\n    const disableInfo = {\r\n        ...this.props.igrds\r\n   }\r\n   for(let key in disableInfo){\r\n      disableInfo[key] = (disableInfo[key] <= 0) ? true : false;\r\n   }\r\n    if(this.props.igrds){\r\n        mainburger= (\r\n           <Fragment>\r\n                <Burger ingredients = {this.props.igrds}/>\r\n                <BuildControls\r\n               \r\n                totalPrice={this.props.price}\r\n                IngredientAdded={this.props.onIngredientAdded}\r\n                RemoveIngredient={this.props.onIngredientRemoved}\r\n                disabled={disableInfo}\r\n                prsable={this.isBurgerPurchasable(this.props.igrds)}\r\n                click={this.showModal}/>\r\n           </Fragment>\r\n        );}\r\n        let modal=null;\r\n       if(this.state.visible){\r\n           modal=(<Modal\r\n           visible={this.state.visible}\r\n           title='your order ✔'\r\n           change={this.changeModal}\r\n           handleConfirm={this.handleConfirm}\r\n           >\r\n          <ul>Current Price: 💰{this.props.price.toFixed(2)} </ul>\r\n           <ul>🥗salad:{this.props.igrds.salad} price:£{this.props.sum.salad.toFixed(2)}</ul>\r\n           <ul>🥓bacon:{this.props.igrds.bacon} price:£{this.props.sum.bacon.toFixed(2)}</ul>\r\n           <ul>🧀cheese:{this.props.igrds.cheese} price:£{this.props.sum.cheese.toFixed(2)} </ul>\r\n           <ul>🥩meat:{this.props.igrds.meat} price:£{this.props.sum.meat.toFixed(2)}</ul>\r\n           </Modal>)\r\n       }\r\n       \r\n        return (\r\n            console.log(this.props.igrds),\r\n        <Fragment>\r\n                {mainburger},\r\n                {modal}\r\n         </Fragment>\r\n        );\r\n    }\r\n}\r\nconst mapStateToProps = state => {\r\n    console.log( state.burgerBuilder.ingredients)\r\n    return {\r\n        igrds: state.burgerBuilder.ingredients,\r\n        price: state.burgerBuilder.totalPrice,\r\n        sum: state.burgerBuilder.sumprice\r\n    };\r\n}\r\n\r\nconst mapDispatchToProps = dispatch =>{\r\n    return {\r\n        onIngredientAdded: (ing) => dispatch(actions.addIngredient(ing)),\r\n        onIngredientRemoved: (ing) => dispatch(actions.removeIngredient(ing)),\r\n        small:()=>dispatch({type:\"small\"})\r\n    };\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(BurgerBuilder);"]},"metadata":{},"sourceType":"module"}