{"ast":null,"code":"import _defineProperty from \"C:\\\\demo\\\\hunburger\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"C:\\\\demo\\\\hunburger\\\\src\\\\Container\\\\BurgerBuilder\\\\BurgerBuilder.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { Component, Fragment } from 'react';\nimport Burger from '../../Components/Burger/Burger';\nimport BuildControls from '../../Components/Burger/OrderSummary/BuildControls';\nimport Modal from '../../Components/UI/Model/Msgbox';\nimport { connect } from 'react-redux';\nimport * as actions from '../../store/actions/index'; // const ingredient_prices = {\n//     salad: 0.5,\n//     cheese: 0.4,\n//     meat: 1.3,\n//     bacon: 0.7\n// }\n\nclass BurgerBuilder extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      // ingredients: {\n      //     salad: 0,\n      //     bacon: 0,\n      //     cheese: 0,\n      //     meat: 0\n      // },\n      totalPrice: 0,\n      purchaseable: false,\n      visible: false // sumprice:{\n      //     salad: 0,\n      //     bacon: 0,\n      //     cheese: 0,\n      //     meat: 0\n      // }\n\n    };\n\n    this.changeModal = () => {\n      this.setState({\n        visible: false\n      });\n    };\n\n    this.showModal = () => {\n      this.setState({\n        visible: true\n      });\n    };\n\n    this.handleConfirm = () => {\n      this.setState({\n        visible: false\n      });\n      this.changeModal();\n      return React.createElement(Burger, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      });\n    };\n  }\n\n  render() {\n    let modal = null;\n\n    if (this.state.visible) {\n      modal = React.createElement(Modal, {\n        visible: this.state.visible,\n        title: \"your order\",\n        change: this.changeModal //    totalprice1={this.state.totalPrice}\n        //    ingredients1={this.state.ingredients}\n        ,\n        handleConfirm: this.handleConfirm,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, React.createElement(\"ul\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, \"Current Price: \\xA3\", this.state.totalPrice.toFixed(2), \" \"), React.createElement(\"ul\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, \"salad:\", this.state.ingredients.salad), React.createElement(\"ul\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, \"bacon:\", this.state.ingredients.bacon, \" \"), React.createElement(\"ul\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, \"cheese:\", this.state.ingredients.cheese, \"  \"), React.createElement(\"ul\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, \"meat:\", this.state.ingredients.meat, \" \"));\n    }\n\n    const disableInfo = _objectSpread({}, this.state.ingredients);\n\n    for (let key in disableInfo) {\n      disableInfo[key] = disableInfo[key] <= 0 ? true : false;\n    }\n\n    console.log(this.state.visible);\n    return React.createElement(Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, React.createElement(Burger, {\n      ingredients: this.probs.ings,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }), React.createElement(BuildControls, {\n      sumprice: this.state.sumprice,\n      totalPrice: this.props.price,\n      IngredientAdded: this.props.addIngredient,\n      RemoveIngredient: this.props.removeIngredient,\n      disabled: disableInfo,\n      purchaseable: this.state.purchaseable,\n      click: this.showModal,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }), modal);\n  }\n\n}\n\nconst mapStateToProps = state => {\n  console.log(state.burgerBuilder.ingredients);\n  return {\n    ings: state.burgerBuilder.ingredients,\n    price: state.burgerBuilder.totalPrice\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onIngredientAdded: ing => dispatch(actions.addIngredient(ing)),\n    onIngredientRemoved: ing => dispatch(actions.removeIngredient(ing))\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(BurgerBuilder);","map":{"version":3,"sources":["C:/demo/hunburger/src/Container/BurgerBuilder/BurgerBuilder.js"],"names":["React","Component","Fragment","Burger","BuildControls","Modal","connect","actions","BurgerBuilder","state","totalPrice","purchaseable","visible","changeModal","setState","showModal","handleConfirm","render","modal","toFixed","ingredients","salad","bacon","cheese","meat","disableInfo","key","console","log","probs","ings","sumprice","props","price","addIngredient","removeIngredient","mapStateToProps","burgerBuilder","mapDispatchToProps","dispatch","onIngredientAdded","ing","onIngredientRemoved"],"mappings":"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","sourcesContent":["import React, { Component, Fragment } from 'react';\r\nimport Burger from '../../Components/Burger/Burger';\r\nimport BuildControls from '../../Components/Burger/OrderSummary/BuildControls';\r\nimport Modal from '../../Components/UI/Model/Msgbox';\r\nimport {connect} from 'react-redux';\r\nimport * as actions from '../../store/actions/index';\r\n// const ingredient_prices = {\r\n//     salad: 0.5,\r\n//     cheese: 0.4,\r\n//     meat: 1.3,\r\n//     bacon: 0.7\r\n// }\r\nclass BurgerBuilder extends Component {\r\n    state = {\r\n        // ingredients: {\r\n        //     salad: 0,\r\n        //     bacon: 0,\r\n        //     cheese: 0,\r\n        //     meat: 0\r\n        // },\r\n        totalPrice: 0,\r\n        purchaseable: false,\r\n        visible:false,\r\n        // sumprice:{\r\n        //     salad: 0,\r\n        //     bacon: 0,\r\n        //     cheese: 0,\r\n        //     meat: 0\r\n        // }\r\n    }\r\n// addIngredientHandler = (type) => {\r\n//         const updatedsumprice = {\r\n//             ...this.state.sumprice\r\n//         }             \r\n//         updatedsumprice[type]=ingredient_prices[type]* updatedIngredients[type];//每一个原料的总价\r\n//         this.setState({\r\n//             sumprice:updatedsumprice\r\n//         });\r\n//         this.props.addIngredient;\r\n//     }\r\n// removeIngredientHandler = (type) =>{\r\n//         const updatedsumprice = {\r\n//             ...this.state.sumprice\r\n//         }      \r\n//         updatedsumprice[type]=ingredient_prices[type]* updatedIngredients[type];\r\n//         this.setState({\r\n//             sumprice:updatedsumprice\r\n//         });\r\n//          this.props.removeIngredient  \r\n//     }\r\nchangeModal =()=>{\r\n        this.setState({\r\n            visible:false\r\n        })\r\n    }\r\nshowModal = () => {\r\n        this.setState({\r\n            visible: true,\r\n        });\r\n}\r\nhandleConfirm = () => {\r\n    this.setState({\r\n        visible: false\r\n    })\r\n    this.changeModal(); \r\n    return (\r\n        <Burger/>)\r\n    \r\n}\r\nrender(){\r\n        let modal=null;\r\n       if(this.state.visible){\r\n           modal=<Modal\r\n           visible={this.state.visible}\r\n           title='your order'\r\n           change={this.changeModal}\r\n        //    totalprice1={this.state.totalPrice}\r\n        //    ingredients1={this.state.ingredients}\r\n           handleConfirm={this.handleConfirm}\r\n           >\r\n          <ul>Current Price: £{this.state.totalPrice.toFixed(2)} </ul>\r\n           <ul>salad:{this.state.ingredients.salad}</ul>\r\n           <ul>bacon:{this.state.ingredients.bacon} </ul>\r\n           <ul>cheese:{this.state.ingredients.cheese}  </ul>\r\n           <ul>meat:{this.state.ingredients.meat} </ul>\r\n           </Modal>\r\n       }\r\n        const disableInfo = {\r\n             ...this.state.ingredients\r\n        }\r\n        for(let key in disableInfo){\r\n           disableInfo[key] = (disableInfo[key] <= 0) ? true : false;\r\n        }\r\n        console.log(this.state.visible)\r\n        return (\r\n           <Fragment>\r\n                <Burger ingredients = {this.probs.ings}/>\r\n                <BuildControls \r\n                    sumprice={this.state.sumprice}   \r\n                    totalPrice={this.props.price}\r\n                    IngredientAdded={this.props.addIngredient}\r\n                    RemoveIngredient={this.props.removeIngredient}\r\n                    disabled={disableInfo}\r\n                    purchaseable={this.state.purchaseable}\r\n                    click={this.showModal}\r\n                   \r\n                />\r\n                {modal}\r\n            </Fragment>\r\n       \r\n        );\r\n    }\r\n}\r\nconst mapStateToProps = state => {\r\n    console.log( state.burgerBuilder.ingredients)\r\n    return {\r\n        ings: state.burgerBuilder.ingredients,\r\n        price: state.burgerBuilder.totalPrice,\r\n    };\r\n}\r\n\r\nconst mapDispatchToProps = dispatch =>{\r\n    return {\r\n        onIngredientAdded: (ing) => dispatch(actions.addIngredient(ing)),\r\n        onIngredientRemoved: (ing) => dispatch(actions.removeIngredient(ing)),\r\n      \r\n        \r\n    };\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(BurgerBuilder);"]},"metadata":{},"sourceType":"module"}