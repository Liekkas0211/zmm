{"ast":null,"code":"var _jsxFileName = \"C:\\\\demo\\\\hunburger\\\\src\\\\form\\\\form.js\";\nimport { Input, DatePicker, Select, Form, Result, Button, Spin } from 'antd';\nimport { connect } from 'react-redux';\nimport React, { Component } from 'react';\nimport { BrowserRouter as Router, withRouter } from 'react-router-dom';\nimport Burger from '../Components/Burger/Burger';\nimport classes from './form.module.css';\nimport axios from \"axios\";\nconst TextArea = Input.TextArea;\n\nclass Info extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      USER_ADDRESS: \"\",\n      ORDER_REMARK: \"\",\n      USER_NAME: \"\",\n      USER_PHONE: \"\",\n      confirmDirty: false,\n      autoCompleteResult: []\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      this.props.form.validateFieldsAndScroll((err, values) => {\n        if (!err) {\n          console.log('Received values of form: ', values);\n        }\n      });\n    };\n\n    this.handleConfirmBlur = e => {\n      const value = e.target.value;\n      this.setState({\n        confirmDirty: this.state.confirmDirty || !!value\n      });\n    };\n\n    this.compareToFirstPassword = (rule, value, callback) => {\n      const form = this.props.form;\n\n      if (value && value !== form.getFieldValue('password')) {\n        callback('Two passwords that you enter is inconsistent!');\n      } else {\n        callback();\n      }\n    };\n\n    this.validateToNextPassword = (rule, value, callback) => {\n      const form = this.props.form;\n\n      if (value && this.state.confirmDirty) {\n        form.validateFields(['confirm'], {\n          force: true\n        });\n      }\n\n      callback();\n    };\n\n    this.handleWebsiteChange = value => {\n      let autoCompleteResult;\n\n      if (!value) {\n        autoCompleteResult = [];\n      } else {\n        autoCompleteResult = ['.com', '.org', '.net'].map(domain => \"\".concat(value).concat(domain));\n      }\n\n      this.setState({\n        autoCompleteResult\n      });\n    };\n\n    this.submit = () => {\n      console.log(this.state);\n      let order = {\n        \"MCH_ID\": \"41708307\",\n        \"ORDER_BACON\": this.props.igrds.bacon,\n        \"ORDER_CHEESE\": this.props.igrds.cheese,\n        \"ORDER_MEAT\": this.props.igrds.meat,\n        \"ORDER_REMARK\": this.state.ORDER_REMARK,\n        \"ORDER_SALAD\": this.props.igrds.salad,\n        \"TOTAL_FEE\": this.props.price,\n        \"USER_ADDRESS\": this.state.USER_ADDRESS,\n        \"USER_NAME\": this.state.USER_NAME,\n        \"USER_PHONE\": this.state.USER_PHONE\n      };\n      console.log(order);\n      axios.post(\"https://ivftjreo9c.execute-api.cn-northwest-1.amazonaws.com.cn/prod/order\", order).then(res => {\n        console.log(res);\n      }).catch(err => {\n        console.log(err);\n      });\n      this.props.history.push(\"/order\");\n      this.props.history.go();\n    };\n\n    this.handlename = event => {\n      if (event && event.target && event.target.value) {\n        let value = event.target.value;\n        this.setState(() => ({\n          USER_NAME: value\n        }));\n      }\n    };\n\n    this.handleaddress = event => {\n      if (event && event.target && event.target.value) {\n        let value = event.target.value;\n        this.setState(() => ({\n          USER_ADDRESS: value\n        }));\n      }\n    };\n\n    this.handlephone = event => {\n      if (event && event.target && event.target.value) {\n        let value = event.target.value;\n        this.setState(() => ({\n          USER_PHONE: value\n        }));\n      }\n    };\n\n    this.handleremark = event => {\n      if (event && event.target && event.target.value) {\n        let value = event.target.value;\n        this.setState(() => ({\n          ORDER_REMARK: value\n        }));\n      }\n    };\n  }\n\n  handleChange(value) {\n    console.log(\"selected \".concat(value));\n  }\n\n  checkEmail(rule, value, callback) {\n    if (!/^(\\w-*\\.*)+@(\\w-?)+(\\.\\w{2,})+$/.test(value)) {\n      callback(\"The Email is wrong\");\n    } else {\n      callback();\n    }\n  }\n\n  checkname(rule, value, callback) {\n    var re = /^[a-zA-Z\\u4e00-\\u9fa5]+$/;\n\n    if (!re.test(value)) {\n      callback(\"Please input Chinese character or letter\");\n    } else callback();\n  }\n\n  checkPhone(rule, value, callback) {\n    if (!/^1(3|4|5|7|8)\\d{9}$/.test(value)) {\n      callback(\"The mobile phone number is wrong\");\n    } else {\n      callback();\n    }\n  }\n\n  render() {\n    const getFieldDecorator = this.props.form.getFieldDecorator;\n    const formItemLayout = {\n      labelCol: {\n        xs: {\n          span: 24\n        },\n        sm: {\n          span: 8\n        }\n      },\n      wrapperCol: {\n        xs: {\n          span: 24\n        },\n        sm: {\n          span: 16\n        }\n      }\n    };\n    let buttons = React.createElement(\"div\", {\n      className: classes.butn,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: classes.confirm,\n      onClick: () => {\n        document.getElementById(\"info\").scrollIntoView();\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, \"\\u786E\\u5B9A\"), React.createElement(\"button\", {\n      className: classes.close,\n      onClick: () => {\n        this.props.history.push(\"/\");\n        this.props.history.go();\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }, \"\\u53D6\\u6D88\"));\n    const Option = Select.Option;\n    let forms = React.createElement(\"div\", {\n      className: classes.form,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }, \"\\u8BF7\\u8F93\\u5165\\u4F60\\u7684\\u8054\\u7CFB\\u4FE1\\u606F\")), React.createElement(Form, Object.assign({}, formItemLayout, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }), React.createElement(Form.Item, {\n      label: \"name\\uD83D\\uDC69/\\uD83D\\uDC68\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    }, getFieldDecorator('name', {\n      rules: [{\n        validator: this.checkname,\n        required: true\n      }]\n    })(React.createElement(Input, {\n      placeholder: \" Chinese character or letter\",\n      style: {\n        width: 300\n      },\n      onChange: event => this.handlename(event),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }))), React.createElement(Form.Item, {\n      label: \"Street \\uD83C\\uDFE0\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188\n      },\n      __self: this\n    }, getFieldDecorator('Street', {\n      rules: [{\n        required: true\n      }]\n    })(React.createElement(Input, {\n      placeholder: \"Your current address.\",\n      style: {\n        width: 300\n      },\n      onChange: event => this.handleaddress(event),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195\n      },\n      __self: this\n    }))), React.createElement(Form.Item, {\n      label: \"Phone Number \\uD83D\\uDCDE\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199\n      },\n      __self: this\n    }, getFieldDecorator('phone', {\n      rules: [{\n        validator: this.checkPhone,\n        required: true\n      }]\n    })(React.createElement(Input, {\n      placeholder: \"11-digit phone number\",\n      style: {\n        width: 300\n      },\n      onChange: event => this.handlephone(event),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205\n      },\n      __self: this\n    }))), React.createElement(Form.Item, {\n      label: \"E-mail \\uD83D\\uDCEB\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210\n      },\n      __self: this\n    }, getFieldDecorator('EMAIL', {\n      rules: [{\n        validator: this.checkEmail,\n        required: true\n      }]\n    })(React.createElement(Input, {\n      placeholder: \"aaa@bbb.ccc\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217\n      },\n      __self: this\n    }))), React.createElement(Form.Item, {\n      label: \"remark \\uD83D\\uDD8A\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220\n      },\n      __self: this\n    }, getFieldDecorator('email', {\n      rules: [{\n        required: true\n      }]\n    })(React.createElement(TextArea, {\n      rows: 3,\n      placeholder: \"For example, don't pepper.\",\n      style: {\n        width: 300\n      },\n      onChange: event => this.handleremark(event),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227\n      },\n      __self: this\n    }))), React.createElement(Select, {\n      defaultValue: \"fastest\",\n      style: {\n        width: 400\n      },\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234\n      },\n      __self: this\n    }, React.createElement(Option, {\n      value: \"lowest\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235\n      },\n      __self: this\n    }, \"lowest\"), React.createElement(Option, {\n      value: \"middlest\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236\n      },\n      __self: this\n    }, \"fastest\")), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237\n      },\n      __self: this\n    }), React.createElement(DatePicker, {\n      style: {\n        width: 400\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      className: classes.order,\n      onClick: this.submit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240\n      },\n      __self: this\n    }, \"\\u4E0B\\u5355\"));\n    let mainburger = null;\n\n    if (this.props.igrds) {\n      mainburger = React.createElement(Burger, {\n        ingredients: this.props.igrds,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 246\n        },\n        __self: this\n      });\n    }\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      className: classes.hope,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249\n      },\n      __self: this\n    }, \" We hope is tastes well \\uD83D\\uDC81\\u200D\\u2640\\uFE0F\")), mainburger, React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250\n      },\n      __self: this\n    }), React.createElement(\"h2\", {\n      className: classes.hope1,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251\n      },\n      __self: this\n    }, \" totalprice:\", React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251\n      },\n      __self: this\n    }, \"\\uD83D\\uDCB0\", Math.round(this.props.price * 100) / 100)), buttons, React.createElement(\"div\", {\n      id: \"info\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254\n      },\n      __self: this\n    }), forms, React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257\n      },\n      __self: this\n    }));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  console.log(state.burgerBuilder.totalPrice);\n  console.log(state.burgerBuilder.ingredients);\n  return {\n    igrds: state.burgerBuilder.ingredients,\n    price: state.burgerBuilder.totalPrice\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {};\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(Form.create()(Info)));","map":{"version":3,"sources":["C:/demo/hunburger/src/form/form.js"],"names":["Input","DatePicker","Select","Form","Result","Button","Spin","connect","React","Component","BrowserRouter","Router","withRouter","Burger","classes","axios","TextArea","Info","state","USER_ADDRESS","ORDER_REMARK","USER_NAME","USER_PHONE","confirmDirty","autoCompleteResult","handleSubmit","e","preventDefault","props","form","validateFieldsAndScroll","err","values","console","log","handleConfirmBlur","value","target","setState","compareToFirstPassword","rule","callback","getFieldValue","validateToNextPassword","validateFields","force","handleWebsiteChange","map","domain","submit","order","igrds","bacon","cheese","meat","salad","price","post","then","res","catch","history","push","go","handlename","event","handleaddress","handlephone","handleremark","handleChange","checkEmail","test","checkname","re","checkPhone","render","getFieldDecorator","formItemLayout","labelCol","xs","span","sm","wrapperCol","buttons","butn","confirm","document","getElementById","scrollIntoView","close","Option","forms","rules","validator","required","width","mainburger","hope","hope1","Math","round","mapStateToProps","burgerBuilder","totalPrice","ingredients","mapDispatchToProps","dispatch","create"],"mappings":"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","sourcesContent":["import { Input,DatePicker,Select,Form ,Result, Button, Spin} from 'antd';\r\nimport {connect} from 'react-redux';\r\nimport React, { Component } from 'react';\r\nimport { BrowserRouter as Router,withRouter} from 'react-router-dom';\r\nimport Burger from '../Components/Burger/Burger';\r\nimport classes from './form.module.css';\r\nimport axios from \"axios\"; \r\n\r\n const { TextArea } = Input;\r\nclass Info extends Component{\r\n  state = {\r\n      USER_ADDRESS:\"\" ,\r\n      ORDER_REMARK:\"\",\r\n      USER_NAME: \"\",\r\n      USER_PHONE: \"\",\r\n       confirmDirty: false,\r\n     autoCompleteResult: [],\r\n  \r\n    }\r\n\r\n    handleSubmit = e => {\r\n      e.preventDefault();\r\n      this.props.form.validateFieldsAndScroll((err, values) => {\r\n        if (!err) {\r\n          console.log('Received values of form: ', values);\r\n        }\r\n      });\r\n    };\r\n  \r\n    handleConfirmBlur = e => {\r\n      const { value } = e.target;\r\n      this.setState({ confirmDirty: this.state.confirmDirty || !!value });\r\n    };\r\n  \r\n    compareToFirstPassword = (rule, value, callback) => {\r\n      const { form } = this.props;\r\n      if (value && value !== form.getFieldValue('password')) {\r\n        callback('Two passwords that you enter is inconsistent!');\r\n      } else {\r\n        callback();\r\n      }\r\n    };\r\n  \r\n    validateToNextPassword = (rule, value, callback) => {\r\n      const { form } = this.props;\r\n      if (value && this.state.confirmDirty) {\r\n        form.validateFields(['confirm'], { force: true });\r\n      }\r\n      callback();\r\n    };\r\n  \r\n    handleWebsiteChange = value => {\r\n      let autoCompleteResult;\r\n      if (!value) {\r\n        autoCompleteResult = [];\r\n      } else {\r\n        autoCompleteResult = ['.com', '.org', '.net'].map(domain => `${value}${domain}`);\r\n      }\r\n      this.setState({ autoCompleteResult });\r\n    };\r\n  \r\n  handleChange(value) {\r\n    console.log(`selected ${value}`);\r\n  }\r\n\r\n  submit=()=>{\r\n\r\n      console.log(this.state)\r\n      let order = {\r\n        \"MCH_ID\": \"41708307\",\r\n        \"ORDER_BACON\": this.props.igrds.bacon,\r\n        \"ORDER_CHEESE\": this.props.igrds.cheese,\r\n        \"ORDER_MEAT\":this.props.igrds.meat,\r\n        \"ORDER_REMARK\":this.state.ORDER_REMARK,\r\n        \"ORDER_SALAD\":this.props.igrds.salad,\r\n        \"TOTAL_FEE\": this.props.price,\r\n        \"USER_ADDRESS\": this.state.USER_ADDRESS,\r\n        \"USER_NAME\": this.state.USER_NAME,\r\n        \"USER_PHONE\": this.state.USER_PHONE,\r\n      }\r\n        console.log(order)\r\n        axios.post(\"https://ivftjreo9c.execute-api.cn-northwest-1.amazonaws.com.cn/prod/order\", order)\r\n      .then(res => {\r\n        console.log(res);\r\n      })\r\n      .catch(err => {\r\n        console.log(err);  \r\n      })\r\n    \r\n      this.props.history.push(\"/order\");\r\n      this.props.history.go();\r\n \r\n    }\r\n  handlename = (event)=>{\r\n    if(event && event.target && event.target.value){\r\n      let value = event.target.value;\r\n      this.setState(()=>({USER_NAME:value }))\r\n    }\r\n  }\r\n\r\n  handleaddress = (event)=>{\r\n    if(event && event.target && event.target.value){\r\n      let value = event.target.value;\r\n      this.setState(()=>({USER_ADDRESS:value }))\r\n    }\r\n  }\r\n\r\n  handlephone = (event)=>{\r\n    if(event && event.target && event.target.value){\r\n      let value = event.target.value;\r\n      this.setState(()=>({USER_PHONE:value }))\r\n    }\r\n  }\r\n  handleremark = (event)=>{\r\n    if(event && event.target && event.target.value){\r\n      let value = event.target.value;\r\n      this.setState(()=>({ORDER_REMARK:value }))\r\n    }\r\n  }\r\n\r\n  checkEmail(rule, value, callback) {\r\n    if(!(/^(\\w-*\\.*)+@(\\w-?)+(\\.\\w{2,})+$/.test(value))){\r\n        callback(\"The Email is wrong\");\r\n    }else{\r\n        callback()\r\n    }\r\n};\r\n  checkname(rule, value, callback) {\r\n    var re = /^[a-zA-Z\\u4e00-\\u9fa5]+$/;\r\n    if(!re.test(value)){\r\n        callback(\"Please input Chinese character or letter\")\r\n    }\r\n    else callback()\r\n  };\r\n   \r\n  checkPhone(rule, value, callback) {\r\n    if(!(/^1(3|4|5|7|8)\\d{9}$/.test(value))){\r\n        callback(\"The mobile phone number is wrong\");\r\n    }else{\r\n        callback()\r\n    }\r\n  };\r\n\r\nrender(){\r\n  const { getFieldDecorator } = this.props.form;\r\n  const formItemLayout = {\r\n    labelCol: {\r\n      xs: { span: 24 },sm: { span: 8 },\r\n    },\r\n    wrapperCol: {\r\n      xs: { span: 24 },sm: { span: 16 },\r\n    },\r\n  };\r\n    let buttons=(\r\n    <div className={classes.butn}>\r\n      <button className={classes.confirm}\r\n      onClick={()=>{\r\n        document.getElementById(\"info\").scrollIntoView();\r\n      }}>确定\r\n      </button>\r\n      <button className={classes.close}\r\n      onClick={()=>{\r\n        this.props.history.push( \"/\");\r\n        this.props.history.go();\r\n    }}\r\n      >取消</button>\r\n    </div>)\r\n\r\n  \r\n\r\n  const { Option } = Select;\r\n  let forms=\r\n    <div className={classes.form}>\r\n      <h2><strong>请输入你的联系信息</strong></h2>\r\n      <Form {...formItemLayout} >\r\n          <Form.Item label=\"name👩/👨\" >\r\n                    {getFieldDecorator('name', {\r\n                    rules: [\r\n                    {\r\n                      validator: this.checkname,\r\n                      required: true,\r\n                  }\r\n                  ],\r\n                })(<Input placeholder=\" Chinese character or letter\"\r\n                   style={{ width: 300 }}\r\n                onChange ={event => this.handlename(event)}/>)}\r\n          </Form.Item>\r\n          <Form.Item label=\"Street 🏠\">\r\n          {getFieldDecorator('Street', {\r\n                    rules: [\r\n                    {required: true,\r\n                  }\r\n                  ],\r\n                })(\r\n              <Input placeholder=\"Your current address.\" style={{ width: 300 }}\r\n              onChange ={event => this.handleaddress(event)} />)}\r\n          </Form.Item>\r\n\r\n          <Form.Item label=\"Phone Number 📞\">\r\n                {getFieldDecorator('phone', {\r\n                  rules: [ { \r\n                    validator: this.checkPhone,\r\n                    required: true, }],\r\n                  },\r\n                )(<Input placeholder=\"11-digit phone number\"\r\n                   style={{ width: 300 }}\r\n                  onChange ={event => this.handlephone(event)}\r\n                />)}\r\n          </Form.Item>\r\n          <Form.Item label=\"E-mail 📫\">\r\n                {getFieldDecorator('EMAIL', {\r\n                  rules: [\r\n                    {\r\n                      validator: this.checkEmail,\r\n                      required:true,\r\n                    }],\r\n                })(<Input placeholder='aaa@bbb.ccc'  />)}\r\n          </Form.Item>\r\n          \r\n          <Form.Item label=\"remark 🖊\">\r\n                 {getFieldDecorator('email', {\r\n                  rules: [\r\n                    { \r\n                      required: true,\r\n                    }\r\n                  ],\r\n                })( <TextArea\r\n                    rows={3} placeholder=\"For example, don't pepper.\" \r\n                    style={{ width: 300 }} \r\n                onChange ={event => this.handleremark(event)}/>\r\n                )}\r\n         \r\n          </Form.Item>\r\n          <Select defaultValue=\"fastest\" style={{ width: 400 }} onChange={this.handleChange}>\r\n          <Option value=\"lowest\">lowest</Option>\r\n          <Option value=\"middlest\">fastest</Option>\r\n          </Select><br/><p></p>\r\n          <DatePicker style={{ width: 400 }}  /><br/>\r\n        </Form>    \r\n        <button className={classes.order} onClick={this.submit} \r\n         >下单</button>\r\n        </div>\r\n    let mainburger=null\r\n    if(this.props.igrds){\r\n      mainburger= (\r\n              <Burger ingredients = {this.props.igrds}/>)}\r\n  return(\r\n   <div>\r\n     <h1 className={classes.hope} ><strong> We hope is tastes well 💁‍♀️</strong></h1>\r\n     {mainburger}<br/>\r\n    <h2  className={classes.hope1}> totalprice:<strong>\r\n      💰{Math.round(this.props.price*100)/100}</strong></h2>\r\n    {buttons}\r\n    <div id=\"info\"></div>\r\n     {forms}\r\n     <br/>\r\n     <p></p>\r\n    </div>)\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\nconsole.log(state.burgerBuilder.totalPrice)\r\nconsole.log(state.burgerBuilder.ingredients)\r\n  return {\r\n    igrds:state.burgerBuilder.ingredients,\r\n    price:state.burgerBuilder.totalPrice\r\n  };\r\n}\r\n\r\nconst mapDispatchToProps = dispatch =>{\r\n  return {\r\n  };\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(Form.create()(Info)));"]},"metadata":{},"sourceType":"module"}