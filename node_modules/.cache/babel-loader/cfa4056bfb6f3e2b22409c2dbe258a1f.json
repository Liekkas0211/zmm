{"ast":null,"code":"import _classCallCheck from\"C:\\\\demo\\\\hunburger\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\demo\\\\hunburger\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\demo\\\\hunburger\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\demo\\\\hunburger\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"C:\\\\demo\\\\hunburger\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import{Input,DatePicker,Select,Form,Result,Button,Spin}from'antd';import{connect}from'react-redux';import React,{Component}from'react';import{BrowserRouter as Router,withRouter}from'react-router-dom';import Burger from'../Components/Burger/Burger';import classes from'./form.module.css';import axios from\"axios\";var TextArea=Input.TextArea;var Info=/*#__PURE__*/function(_Component){_inherits(Info,_Component);function Info(){var _getPrototypeOf2;var _this;_classCallCheck(this,Info);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(Info)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={USER_ADDRESS:\"\",ORDER_REMARK:\"\",USER_NAME:\"\",USER_PHONE:\"\",confirmDirty:false,autoCompleteResult:[]};_this.handleSubmit=function(e){e.preventDefault();_this.props.form.validateFieldsAndScroll(function(err,values){if(!err){console.log('Received values of form: ',values);}});};_this.handleConfirmBlur=function(e){var value=e.target.value;_this.setState({confirmDirty:_this.state.confirmDirty||!!value});};_this.compareToFirstPassword=function(rule,value,callback){var form=_this.props.form;if(value&&value!==form.getFieldValue('password')){callback('Two passwords that you enter is inconsistent!');}else{callback();}};_this.validateToNextPassword=function(rule,value,callback){var form=_this.props.form;if(value&&_this.state.confirmDirty){form.validateFields(['confirm'],{force:true});}callback();};_this.handleWebsiteChange=function(value){var autoCompleteResult;if(!value){autoCompleteResult=[];}else{autoCompleteResult=['.com','.org','.net'].map(function(domain){return\"\".concat(value).concat(domain);});}_this.setState({autoCompleteResult:autoCompleteResult});};_this.submit=function(){console.log(_this.state);var order={\"MCH_ID\":\"41708307\",\"ORDER_BACON\":_this.props.igrds.bacon,\"ORDER_CHEESE\":_this.props.igrds.cheese,\"ORDER_MEAT\":_this.props.igrds.meat,\"ORDER_REMARK\":_this.state.ORDER_REMARK,\"ORDER_SALAD\":_this.props.igrds.salad,\"TOTAL_FEE\":_this.props.price,\"USER_ADDRESS\":_this.state.USER_ADDRESS,\"USER_NAME\":_this.state.USER_NAME,\"USER_PHONE\":_this.state.USER_PHONE};console.log(order);axios.post(\"https://ivftjreo9c.execute-api.cn-northwest-1.amazonaws.com.cn/prod/order\",order).then(function(res){console.log(res);}).catch(function(err){console.log(err);});_this.props.history.push(\"/order\");_this.props.history.go();};_this.handlename=function(event){if(event&&event.target&&event.target.value){var value=event.target.value;_this.setState(function(){return{USER_NAME:value};});}};_this.handleaddress=function(event){if(event&&event.target&&event.target.value){var value=event.target.value;_this.setState(function(){return{USER_ADDRESS:value};});}};_this.handlephone=function(event){if(event&&event.target&&event.target.value){var value=event.target.value;_this.setState(function(){return{USER_PHONE:value};});}};_this.handleremark=function(event){if(event&&event.target&&event.target.value){var value=event.target.value;_this.setState(function(){return{ORDER_REMARK:value};});}};return _this;}_createClass(Info,[{key:\"handleChange\",value:function handleChange(value){console.log(\"selected \".concat(value));}},{key:\"checkEmail\",value:function checkEmail(rule,value,callback){if(!/^(\\w-*\\.*)+@(\\w-?)+(\\.\\w{2,})+$/.test(value)){callback(\"The Email is wrong\");}else{callback();}}},{key:\"checkname\",value:function checkname(rule,value,callback){var re=/^[a-zA-Z\\u4e00-\\u9fa5]+$/;if(!re.test(value)){callback(\"Please input Chinese character or letter\");}else callback();}},{key:\"checkPhone\",value:function checkPhone(rule,value,callback){if(!/^1(3|4|5|7|8)\\d{9}$/.test(value)){callback(\"The mobile phone number is wrong\");}else{callback();}}},{key:\"render\",value:function render(){var _this2=this;var getFieldDecorator=this.props.form.getFieldDecorator;var formItemLayout={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}};var buttons=React.createElement(\"div\",{className:classes.butn},React.createElement(\"button\",{className:classes.confirm,onClick:function onClick(){document.getElementById(\"info\").scrollIntoView();}},\"\\u786E\\u5B9A\"),React.createElement(\"button\",{className:classes.close,onClick:function onClick(){_this2.props.history.push(\"/\");_this2.props.history.go();}},\"\\u53D6\\u6D88\"));var Option=Select.Option;var forms=React.createElement(\"div\",{className:classes.form},React.createElement(\"h2\",null,React.createElement(\"strong\",null,\"\\u8BF7\\u8F93\\u5165\\u4F60\\u7684\\u8054\\u7CFB\\u4FE1\\u606F\")),React.createElement(Form,formItemLayout,React.createElement(Form.Item,{label:\"name\\uD83D\\uDC69/\\uD83D\\uDC68\"},getFieldDecorator('name',{rules:[{validator:this.checkname,required:true}]})(React.createElement(Input,{placeholder:\" Chinese character or letter\",style:{width:300},onChange:function onChange(event){return _this2.handlename(event);}}))),React.createElement(Form.Item,{label:\"Street \\uD83C\\uDFE0\"},getFieldDecorator('Street',{rules:[{required:true}]})(React.createElement(Input,{placeholder:\"Your current address.\",style:{width:300},onChange:function onChange(event){return _this2.handleaddress(event);}}))),React.createElement(Form.Item,{label:\"Phone Number \\uD83D\\uDCDE\"},getFieldDecorator('phone',{rules:[{validator:this.checkPhone,required:true}]})(React.createElement(Input,{placeholder:\"11-digit phone number\",style:{width:300},onChange:function onChange(event){return _this2.handlephone(event);}}))),React.createElement(Form.Item,{label:\"E-mail \\uD83D\\uDCEB\"},getFieldDecorator('EMAIL',{rules:[{validator:this.checkEmail,required:true}]})(React.createElement(Input,{placeholder:\"aaa@bbb.ccc\",style:{width:300}}))),React.createElement(Form.Item,{label:\"remark \\uD83D\\uDD8A\"},getFieldDecorator('email',{rules:[{required:true}]})(React.createElement(TextArea,{rows:3,placeholder:\"For example, don't pepper.\",style:{width:300},onChange:function onChange(event){return _this2.handleremark(event);}}))),React.createElement(Select,{defaultValue:\"fastest\",style:{width:400},onChange:this.handleChange},React.createElement(Option,{value:\"lowest\"},\"lowest\"),React.createElement(Option,{value:\"middlest\"},\"fastest\")),React.createElement(\"br\",null),React.createElement(\"p\",null),React.createElement(DatePicker,{style:{width:400}}),React.createElement(\"br\",null)),React.createElement(\"button\",{className:classes.order,onClick:this.submit},\"\\u4E0B\\u5355\"));var mainburger=null;if(this.props.igrds){mainburger=React.createElement(Burger,{ingredients:this.props.igrds});}return React.createElement(\"div\",null,React.createElement(\"h1\",{className:classes.hope},React.createElement(\"strong\",null,\" We hope is tastes well \\uD83D\\uDC81\\u200D\\u2640\\uFE0F\")),mainburger,React.createElement(\"br\",null),React.createElement(\"h2\",{className:classes.hope1},\" totalprice:\",React.createElement(\"strong\",null,\"\\uD83D\\uDCB0\",Math.round(this.props.price*100)/100)),buttons,React.createElement(\"div\",{id:\"info\"}),forms,React.createElement(\"br\",null),React.createElement(\"p\",null));}}]);return Info;}(Component);var mapStateToProps=function mapStateToProps(state){console.log(state.burgerBuilder.totalPrice);console.log(state.burgerBuilder.ingredients);return{igrds:state.burgerBuilder.ingredients,price:state.burgerBuilder.totalPrice};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{};};export default connect(mapStateToProps,mapDispatchToProps)(withRouter(Form.create()(Info)));","map":{"version":3,"sources":["C:/demo/hunburger/src/form/form.js"],"names":["Input","DatePicker","Select","Form","Result","Button","Spin","connect","React","Component","BrowserRouter","Router","withRouter","Burger","classes","axios","TextArea","Info","state","USER_ADDRESS","ORDER_REMARK","USER_NAME","USER_PHONE","confirmDirty","autoCompleteResult","handleSubmit","e","preventDefault","props","form","validateFieldsAndScroll","err","values","console","log","handleConfirmBlur","value","target","setState","compareToFirstPassword","rule","callback","getFieldValue","validateToNextPassword","validateFields","force","handleWebsiteChange","map","domain","submit","order","igrds","bacon","cheese","meat","salad","price","post","then","res","catch","history","push","go","handlename","event","handleaddress","handlephone","handleremark","test","re","getFieldDecorator","formItemLayout","labelCol","xs","span","sm","wrapperCol","buttons","butn","confirm","document","getElementById","scrollIntoView","close","Option","forms","rules","validator","checkname","required","width","checkPhone","checkEmail","handleChange","mainburger","hope","hope1","Math","round","mapStateToProps","burgerBuilder","totalPrice","ingredients","mapDispatchToProps","dispatch","create"],"mappings":"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","sourcesContent":["import { Input,DatePicker,Select,Form ,Result, Button, Spin} from 'antd';\r\nimport {connect} from 'react-redux';\r\nimport React, { Component } from 'react';\r\nimport { BrowserRouter as Router,withRouter} from 'react-router-dom';\r\nimport Burger from '../Components/Burger/Burger';\r\nimport classes from './form.module.css';\r\nimport axios from \"axios\"; \r\n\r\n const { TextArea } = Input;\r\nclass Info extends Component{\r\n  state = {\r\n      USER_ADDRESS:\"\" ,\r\n      ORDER_REMARK:\"\",\r\n      USER_NAME: \"\",\r\n      USER_PHONE: \"\",\r\n       confirmDirty: false,\r\n     autoCompleteResult: [],\r\n  \r\n    }\r\n\r\n    handleSubmit = e => {\r\n      e.preventDefault();\r\n      this.props.form.validateFieldsAndScroll((err, values) => {\r\n        if (!err) {\r\n          console.log('Received values of form: ', values);\r\n        }\r\n      });\r\n    };\r\n  \r\n    handleConfirmBlur = e => {\r\n      const { value } = e.target;\r\n      this.setState({ confirmDirty: this.state.confirmDirty || !!value });\r\n    };\r\n  \r\n    compareToFirstPassword = (rule, value, callback) => {\r\n      const { form } = this.props;\r\n      if (value && value !== form.getFieldValue('password')) {\r\n        callback('Two passwords that you enter is inconsistent!');\r\n      } else {\r\n        callback();\r\n      }\r\n    };\r\n  \r\n    validateToNextPassword = (rule, value, callback) => {\r\n      const { form } = this.props;\r\n      if (value && this.state.confirmDirty) {\r\n        form.validateFields(['confirm'], { force: true });\r\n      }\r\n      callback();\r\n    };\r\n  \r\n    handleWebsiteChange = value => {\r\n      let autoCompleteResult;\r\n      if (!value) {\r\n        autoCompleteResult = [];\r\n      } else {\r\n        autoCompleteResult = ['.com', '.org', '.net'].map(domain => `${value}${domain}`);\r\n      }\r\n      this.setState({ autoCompleteResult });\r\n    };\r\n  \r\n  handleChange(value) {\r\n    console.log(`selected ${value}`);\r\n  }\r\n\r\n  submit=()=>{\r\n\r\n      console.log(this.state)\r\n      let order = {\r\n        \"MCH_ID\": \"41708307\",\r\n        \"ORDER_BACON\": this.props.igrds.bacon,\r\n        \"ORDER_CHEESE\": this.props.igrds.cheese,\r\n        \"ORDER_MEAT\":this.props.igrds.meat,\r\n        \"ORDER_REMARK\":this.state.ORDER_REMARK,\r\n        \"ORDER_SALAD\":this.props.igrds.salad,\r\n        \"TOTAL_FEE\": this.props.price,\r\n        \"USER_ADDRESS\": this.state.USER_ADDRESS,\r\n        \"USER_NAME\": this.state.USER_NAME,\r\n        \"USER_PHONE\": this.state.USER_PHONE,\r\n      }\r\n        console.log(order)\r\n        axios.post(\"https://ivftjreo9c.execute-api.cn-northwest-1.amazonaws.com.cn/prod/order\", order)\r\n      .then(res => {\r\n        console.log(res);\r\n      })\r\n      .catch(err => {\r\n        console.log(err);  \r\n      })\r\n    \r\n      this.props.history.push(\"/order\");\r\n      this.props.history.go();\r\n \r\n    }\r\n  handlename = (event)=>{\r\n    if(event && event.target && event.target.value){\r\n      let value = event.target.value;\r\n      this.setState(()=>({USER_NAME:value }))\r\n    }\r\n  }\r\n\r\n  handleaddress = (event)=>{\r\n    if(event && event.target && event.target.value){\r\n      let value = event.target.value;\r\n      this.setState(()=>({USER_ADDRESS:value }))\r\n    }\r\n  }\r\n\r\n  handlephone = (event)=>{\r\n    if(event && event.target && event.target.value){\r\n      let value = event.target.value;\r\n      this.setState(()=>({USER_PHONE:value }))\r\n    }\r\n  }\r\n  handleremark = (event)=>{\r\n    if(event && event.target && event.target.value){\r\n      let value = event.target.value;\r\n      this.setState(()=>({ORDER_REMARK:value }))\r\n    }\r\n  }\r\n\r\n  checkEmail(rule, value, callback) {\r\n    if(!(/^(\\w-*\\.*)+@(\\w-?)+(\\.\\w{2,})+$/.test(value))){\r\n        callback(\"The Email is wrong\");\r\n    }else{\r\n        callback()\r\n    }\r\n};\r\n  checkname(rule, value, callback) {\r\n    var re = /^[a-zA-Z\\u4e00-\\u9fa5]+$/;\r\n    if(!re.test(value)){\r\n        callback(\"Please input Chinese character or letter\")\r\n    }\r\n    else callback()\r\n  };\r\n   \r\n  checkPhone(rule, value, callback) {\r\n    if(!(/^1(3|4|5|7|8)\\d{9}$/.test(value))){\r\n        callback(\"The mobile phone number is wrong\");\r\n    }else{\r\n        callback()\r\n    }\r\n  };\r\n\r\nrender(){\r\n  const { getFieldDecorator } = this.props.form;\r\n  const formItemLayout = {\r\n    labelCol: {\r\n      xs: { span: 24 },sm: { span: 8 },\r\n    },\r\n    wrapperCol: {\r\n      xs: { span: 24 },sm: { span: 16 },\r\n    },\r\n  };\r\n    let buttons=(\r\n    <div className={classes.butn}>\r\n      <button className={classes.confirm}\r\n      onClick={()=>{\r\n        document.getElementById(\"info\").scrollIntoView();\r\n      }}>确定\r\n      </button>\r\n      <button className={classes.close}\r\n      onClick={()=>{\r\n        this.props.history.push( \"/\");\r\n        this.props.history.go();\r\n    }}\r\n      >取消</button>\r\n    </div>)\r\n\r\n  \r\n\r\n  const { Option } = Select;\r\n  let forms=\r\n    <div className={classes.form}>\r\n      <h2><strong>请输入你的联系信息</strong></h2>\r\n      <Form {...formItemLayout} >\r\n          <Form.Item label=\"name👩/👨\" >\r\n                    {getFieldDecorator('name', {\r\n                    rules: [\r\n                    {\r\n                      validator: this.checkname,\r\n                      required: true,\r\n                  }\r\n                  ],\r\n                })(<Input placeholder=\" Chinese character or letter\"\r\n                   style={{ width: 300 }}\r\n                onChange ={event => this.handlename(event)}/>)}\r\n          </Form.Item>\r\n          <Form.Item label=\"Street 🏠\">\r\n          {getFieldDecorator('Street', {\r\n                    rules: [\r\n                    {required: true,\r\n                  }\r\n                  ],\r\n                })(\r\n              <Input placeholder=\"Your current address.\" style={{ width: 300 }}\r\n              onChange ={event => this.handleaddress(event)} />)}\r\n          </Form.Item>\r\n\r\n          <Form.Item label=\"Phone Number 📞\">\r\n                {getFieldDecorator('phone', {\r\n                  rules: [ { \r\n                    validator: this.checkPhone,\r\n                    required: true, }],\r\n                  },\r\n                )(<Input placeholder=\"11-digit phone number\"\r\n                   style={{ width: 300 }}\r\n                  onChange ={event => this.handlephone(event)}\r\n                />)}\r\n          </Form.Item>\r\n          <Form.Item label=\"E-mail 📫\">\r\n                {getFieldDecorator('EMAIL', {\r\n                  rules: [\r\n                    {\r\n                      validator: this.checkEmail,\r\n                      required:true,\r\n                    }],\r\n                })(<Input placeholder='aaa@bbb.ccc'  style={{ width: 300 }}/>)}\r\n          </Form.Item>\r\n          \r\n          <Form.Item label=\"remark 🖊\">\r\n                 {getFieldDecorator('email', {\r\n                  rules: [\r\n                    { \r\n                      required: true,\r\n                    }\r\n                  ],\r\n                })( <TextArea\r\n                    rows={3} placeholder=\"For example, don't pepper.\" \r\n                    style={{ width: 300 }} \r\n                onChange ={event => this.handleremark(event)}/>\r\n                )}\r\n         \r\n          </Form.Item>\r\n          <Select defaultValue=\"fastest\" style={{ width: 400 }} onChange={this.handleChange}>\r\n          <Option value=\"lowest\">lowest</Option>\r\n          <Option value=\"middlest\">fastest</Option>\r\n          </Select><br/><p></p>\r\n          <DatePicker style={{ width: 400 }}  /><br/>\r\n        </Form>    \r\n        <button className={classes.order} onClick={this.submit} \r\n         >下单</button>\r\n        </div>\r\n    let mainburger=null\r\n    if(this.props.igrds){\r\n      mainburger= (\r\n              <Burger ingredients = {this.props.igrds}/>)}\r\n  return(\r\n   <div>\r\n     <h1 className={classes.hope} ><strong> We hope is tastes well 💁‍♀️</strong></h1>\r\n     {mainburger}<br/>\r\n    <h2  className={classes.hope1}> totalprice:<strong>\r\n      💰{Math.round(this.props.price*100)/100}</strong></h2>\r\n    {buttons}\r\n    <div id=\"info\"></div>\r\n     {forms}\r\n     <br/>\r\n     <p></p>\r\n    </div>)\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\nconsole.log(state.burgerBuilder.totalPrice)\r\nconsole.log(state.burgerBuilder.ingredients)\r\n  return {\r\n    igrds:state.burgerBuilder.ingredients,\r\n    price:state.burgerBuilder.totalPrice\r\n  };\r\n}\r\n\r\nconst mapDispatchToProps = dispatch =>{\r\n  return {\r\n  };\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(Form.create()(Info)));"]},"metadata":{},"sourceType":"module"}